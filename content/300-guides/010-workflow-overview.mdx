---
title: 'Prisma workflows'
---

<TopBlock>

Your workflow depends on the level of control you have over your database.

</TopBlock>

## We own the database

* ✅ Full autonomy
* ✅ Using Prisma Migrate

Other teams can extend the schema, but must use Prisma Migrate - no manual changes to the database or competing migration tools.

### 1. Set up development environment

#### If you are creating a new database

* Create a new Prisma schema - or prototype with `db push`
* When you are happy, migrate the initial Prisma schema to a new database

#### If you inherited a database

* Add Prisma Migrate to existing project - create initial migration and baseline production

### 2. CI / CD

Run `migrate deploy` as part of your CI / CD pipeline - applies unapplied migrations.

### 3. Testing

* Mocking `PrismaClient` for unit testing
* Testing that requires a database

   1. `migrate deploy` to a containerized database
   1. Run seed script with `db seed`
   1. Run test script against database

### 4. Collaboration

Migration history and schema are both in source control - pull changes from other teams and run `migrate dev`.

### 5. Deploying

`migrate deploy` to deploy changes to production. Production troubleshooting if migration fails. Can also hotfix / patch database and incorporate that into migration history. Depoyment guides available for multiple platforms.

### Monitoring and debugging

Use logging and custom middleware to monitor performance.

## We do not own the database

### 1. Set up development environment

* Get a local copy of your database
* Introspect the database to create Prisma schema
* Re-introspect to update the Prisma schema with changes made by database owner

### 2. CI / CD

No Prisma-specific steps.

### 3. Testing

* Mocking `PrismaClient` for unit testing
* Testing that requires a database

   1. Deploy copy of database
   1. `db seed` possible

### 4. Collaboration

No Prisma-specific steps.

### 5. Deploying

No Prisma-specific steps.

### Monitoring and debugging

Use logging and custom middleware to monitor performance. Deployment guides use Prisma Migrate but you can skip this step.